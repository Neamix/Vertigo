extend type Query {
    role(id: ID @eq): Role @find @guard
}

extend type Mutation {
    roleupsert(input: RoleInput): Role @field(resolver:"RoleMutation@upsert") @guard
    roledelete(id: ID @rules(apply: ["exists:roles,id"]) @eq): Role @field(resolver:"RoleMutation@delete")  @guard
}

# Inputs

input RoleInput @validator {
    name: String,
    priviledges: [ID],
}

# Types

type Role {
    id: ID,
    name: String,
    users: [User!]! @hasMany,
    priviledges: [Priviledge]
}